<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:view>
    <h:outputLabel value="Hello, world TMobileAdStand: #{index.nameTest}"/>

    <ui:repeat var="tariff" value="#{index.tariffs}" varStatus="status">

        <div>
            <span>#{tariff.name}</span>
            <span>#{tariff.description}</span>
            <span>#{tariff.price}</span>
        </div>

    </ui:repeat>
</f:view>

<script type="text/javascript">
    var host = 'ws://localhost:8080/TMobileAdStand/websocket'
    var socket = new WebSocket(host)

    socket.onopen = function() {
        console.log('socket opened')
    }

    socket.onclose = function() {
        console.log('socket closed')
    }

    socket.onmessage = function(event) {
        console.log('socket event: ' + event.data)
        location.reload()
    }
</script>

</html>
